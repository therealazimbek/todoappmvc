@using ToDoAppModel;
@model ViewModel;
@{
    ViewData["Title"] = "Home";
}

<div class="home-text">
    <h4>Hi! Have a great day!</h4>
    <p>Today you have @Model.ToDoItems.Count(i => i.DueDate.Date == DateTime.Today && i.Status != ToDoAppModel.ItemStatus.Completed) tasks</p>
</div>
<partial name="TodayListStatic" />
<br />

<ol class="list-group list-group-light list-group-numbered">
    
    @foreach (var item in Model.ToDoLists.Where(l => l.Name != "Today"))
   {
    <li class="list-group-item d-flex justify-content-between align-items-start">
        <div class="ms-2 me-auto">
                <div class="fw-bold">
                     <span class="badge badge-primary rounded-pill">@Model.ToDoItems.Count(i => i.TodoListId == item.Id && i.Status != ToDoAppModel.ItemStatus.Completed)</span>
                    <a asp-controller="Lists" asp-action="Details" asp-route-id="@item.Id">@item.Name</a>
                </div>
        </div>
        <div class="btn-group">
            <a asp-controller="Lists" asp-action="Delete" asp-route-id="@item.Id" class="btn btn-outline-danger">Delete</a>
        </div>
    </li>
   }
</ol>
<div class="all">
    <a asp-controller="Lists" asp-action="Index" class="btn btn-primary">All Lists</a>
</div>
